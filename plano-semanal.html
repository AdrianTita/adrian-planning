<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <title data-i18n="weekly.title">Plano Semanal de Eventos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Mantém os teus CSS globais, se existirem -->
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/ui-refresh.css" />

  <!-- Estilo do “staff plan” incluído aqui para não faltar nada -->
  <style>
    /* === Staff Plan Board (v2) === */
    .staff-board { border-radius: 10px; overflow: hidden; border:1px solid #c9d2df; }
    .staff-head { background:#3e5a7a; color:#fff; padding:10px 14px; display:flex; align-items:center; gap:12px; }
    .staff-head .cw { font-weight:700; letter-spacing:.3px; }
    .staff-week-range { margin-left:auto; opacity:.9; font-weight:600; }
    .pill { display:inline-block; padding:2px 8px; border-radius:999px; font-size:12px; background:#173b63; color:#fff; border:0; }

    .staff-table { width:100%; border-collapse:separate; border-spacing:0; }
    .staff-table th, .staff-table td { padding:10px 12px; border-bottom:1px solid #d5dde8; background:#e8f0fb33; }
    .staff-table tr:nth-child(odd) td { background:#e8f0fb22; }
    .staff-table th { text-align:left; font-weight:700; color:#38506b; }
    .staff-table td.meta { width:32%; }
    .staff-table td.meta .title { font-weight:700; color:#235aa6; margin-bottom:2px; }
    .staff-table td.meta .sub { color:#7a8aa0; font-size:13px; }
    .staff-table td.logo { width:90px; text-align:center; }
    .staff-table td.dates { width:120px; text-align:center; color:#38506b; font-weight:600; }
    .staff-table td.roles { width:260px; font-size:13px; color:#38506b; }

    .staff-grid { display:flex; flex-wrap:wrap; gap:10px; align-items:flex-start; }
    .chip {
      min-width:62px; min-height:48px;
      padding:6px 8px;
      border-radius:8px;
      box-shadow:0 2px 0 rgba(0,0,0,.25);
      border:1px solid rgba(0,0,0,.12);
      display:flex; flex-direction:column; justify-content:center; align-items:center;
      background:#2f6b2d; color:#fff;
    }
    .chip span.iniciais { font-weight:800; font-size:14px; line-height:1; }
    .chip span.func { font-size:11px; line-height:1.1; opacity:.95; margin-top:3px; font-weight:600; }
    .chip.badge { position:relative; }
    .chip.badge::after { content: attr(data-badge); position:absolute; top:-8px; right:-8px; background:#ef4444; color:#fff; border-radius:8px; padding:0 6px; font-size:10px; border:1px solid rgba(0,0,0,.2); }

    /* Cores por função (ajusta conforme precisares) */
    .chip.TIME { background:#1e6b22; }   /* Timekeeper */
    .chip.BO   { background:#234d2f; }   /* Build/BO */
    .chip.TV   { background:#2d4f83; }
    .chip.VSD  { background:#9aa833; color:#1a1a1a; }
    .chip.ART  { background:#d3c64d; color:#1a1a1a; }
    .chip.SPT  { background:#3e9ca2; }
    .chip.TECH { background:#2e3d4f; }
    .chip._3D  { background:#275a2d; }   /* “3D” vira classe _3D */
    .chip.ARENA{ background:#245828; }

    /* Estados visuais */
    .chip.is-out { filter:saturate(.25) brightness(.9); }
    .chip.is-warning { outline:2px dashed #f59e0b; outline-offset:2px; }
    .chip.is-info { outline:2px solid #60a5fa; outline-offset:2px; }

    /* Mobile */
    @media (max-width: 900px){
      .staff-table td.meta{ width:auto; display:block; }
      .staff-table td.roles{ display:none; }
    }
  </style>
</head>

<!-- se quiseres forçar uma semana específica, põe data-semana="2025-S39" -->
<body data-semana="">
  <div class="staff-board">
    <div class="staff-head">
      <div class="cw" id="cwLabel" data-i18n="weekly.cw">CW --</div>
      <button id="btnConfirmarSemana" class="pill" data-i18n="weekly.confirmWeek">confirm / decline week</button>
      <div style="margin-left:12px;">
        <label for="langSelect" class="muted" style="color:#fff;" data-i18n="ui.language">Idioma</label>
        <select id="langSelect" style="margin-left:6px;">
          <option value="en" data-i18n="lang.en">English</option>
          <option value="pt" data-i18n="lang.pt">Português</option>
          <option value="de" data-i18n="lang.de">Deutsch</option>
          <option value="ro" data-i18n="lang.ro">Română</option>
          <option value="fr" data-i18n="lang.fr">Français</option>
          <option value="es" data-i18n="lang.es">Español</option>
        </select>
      </div>
      <div class="staff-week-range" id="weekRange">—</div>
    </div>

    <table class="staff-table">
      <thead>
        <tr>
          <th style="width:44px"></th>
          <th class="meta" data-i18n="weekly.event">Evento</th>
          <th class="logo" data-i18n="weekly.logo">Logo</th>
          <th class="dates" data-i18n="weekly.start">Início</th>
          <th class="dates" data-i18n="weekly.end">Fim</th>
          <th class="roles" data-i18n="weekly.leads">Responsáveis</th>
          <th data-i18n="weekly.team">Equipa</th>
        </tr>
      </thead>
      <tbody id="tbodySemana">
        <tr><td colspan="7" data-i18n="common.loading">A carregar…</td></tr>
      </tbody>
    </table>
  </div>

  <!-- JS -->
  <script type="module" src="js/plano-semanal.js"></script>
</body>
</html>
